webpackJsonp([9],{"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"8Jvp":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".supplement[data-v-4906ff22]{font-size:10px;color:#999;padding-left:10px}.vertical-center-modal[data-v-4906ff22]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.vertical-center-modal .ivu-modal[data-v-4906ff22]{top:0}",""])},Dd8w:function(t,e,a){"use strict";e.__esModule=!0;var o=a("woOf"),r=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},R4wc:function(t,e,a){var o=a("kM2E");o(o.S+o.F,"Object",{assign:a("To3L")})},To3L:function(t,e,a){"use strict";var o=a("lktj"),r=a("1kS7"),i=a("NpIQ"),n=a("sB3e"),l=a("MU5D"),s=Object.assign;t.exports=!s||a("S82l")(function(){var t={},e={},a=Symbol(),o="abcdefghijklmnopqrst";return t[a]=7,o.split("").forEach(function(t){e[t]=t}),7!=s({},t)[a]||Object.keys(s({},e)).join("")!=o})?function(t,e){for(var a=n(t),s=arguments.length,c=1,d=r.f,u=i.f;s>c;)for(var f,p=l(arguments[c++]),v=d?o(p).concat(d(p)):o(p),m=v.length,g=0;m>g;)u.call(p,f=v[g++])&&(a[f]=p[f]);return a}:s},V3tA:function(t,e,a){a("R4wc"),t.exports=a("FeBl").Object.assign},"a/lg":function(t,e,a){"use strict";function o(t){a("xvI1")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("lU+Z"),i=a("c6kP"),n=a("VU/8"),l=o,s=n(r.a,i.a,!1,l,"data-v-4906ff22",null);e.default=s.exports},c6kP:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"versionMng"}},[a("div",{staticStyle:{margin:"10px 0 20px"}},[a("Button",{attrs:{type:"primary",icon:"plus-circled"},on:{click:function(){return t.showModal()}}},[t._v("添加版本")])],1),t._v(" "),a("Table",{attrs:{columns:t.columns,data:t.data,border:"",stripe:""}}),t._v(" "),a("div",{staticStyle:{margin:"10px","text-align":"right","padding-bottom":"100px"}},[a("div",{staticStyle:{display:"inline-block"}},[a("Page",{attrs:{total:t.total,"page-size-opts":[10,20,30],"show-elevator":"","show-sizer":""},on:{"on-change":function(e){return t.pageChange(e,1)},"on-page-size-change":function(e){return t.pageChange(e,0)}}})],1)]),t._v(" "),a("Modal",{attrs:{width:"360","class-name":"vertical-center-modal"},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:t.isAdd?"plus-circled":"ios-compose"}}),t._v(" "),a("span",[t._v(t._s(t.isAdd?"添加版本":"修改版本"))])],1),t._v(" "),a("div",[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate}},[a("FormItem",{attrs:{prop:"terminal"}},[a("div",[t._v("选择终端")]),t._v(" "),a("Select",{attrs:{placeholder:"选择终端"},model:{value:t.formValidate.terminal,callback:function(e){t.$set(t.formValidate,"terminal",e)},expression:"formValidate.terminal"}},[a("Option",{attrs:{value:"android"}},[t._v("Android")]),t._v(" "),a("Option",{attrs:{value:"ios"}},[t._v("Ios")]),t._v(" "),a("Option",{attrs:{value:"ios-p"}},[t._v("Ios-p")])],1)],1),t._v(" "),a("FormItem",{attrs:{prop:"version"}},[a("div",[t._v("版本号"),a("span",{staticClass:"supplement"},[t._v("示例：1.2.0")])]),t._v(" "),a("Input",{attrs:{placeholder:"填写版本号"},model:{value:t.formValidate.version,callback:function(e){t.$set(t.formValidate,"version",e)},expression:"formValidate.version"}})],1),t._v(" "),a("FormItem",{attrs:{prop:"force"}},[a("div",[t._v("是否强制更新")]),t._v(" "),a("Select",{attrs:{placeholder:"是否强制更新"},model:{value:t.formValidate.force,callback:function(e){t.$set(t.formValidate,"force",e)},expression:"formValidate.force"}},[a("Option",{attrs:{value:"1"}},[t._v("是")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("否")])],1)],1),t._v(" "),a("FormItem",{attrs:{prop:"type"}},[a("div",[t._v("版本类型")]),t._v(" "),a("Select",{attrs:{placeholder:"版本类型"},model:{value:t.formValidate.type,callback:function(e){t.$set(t.formValidate,"type",e)},expression:"formValidate.type"}},[a("Option",{attrs:{value:"-1"}},[t._v("所有版本")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("测试版")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("正式版")])],1)],1),t._v(" "),a("FormItem",{attrs:{prop:"url"}},[a("div",[t._v("版本地址"),a("span",{staticClass:"supplement"},[t._v("示例：http://cdn.utouu.com/apps/apk/cn.tvote.120.apk")])]),t._v(" "),a("Input",{attrs:{placeholder:"输入版本地址"},model:{value:t.formValidate.url,callback:function(e){t.$set(t.formValidate,"url",e)},expression:"formValidate.url"}})],1),t._v(" "),a("FormItem",{attrs:{prop:"content"}},[a("div",[t._v("更新内容"),a("span",{staticClass:"supplement"},[t._v("最多200字")])]),t._v(" "),a("Input",{attrs:{maxlength:200,type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入更新内容..."},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:t.submitHandle}},[t._v(t._s(t.isAdd?"添加":"修改"))])],1)])],1)},r=[],i={render:o,staticRenderFns:r};e.a=i},"lU+Z":function(t,e,a){"use strict";var o=a("Dd8w"),r=a.n(o),i=a("woOf"),n=a.n(i),l=a("gyMJ"),s=a("PJh5"),c=a.n(s),d=void 0;e.a={data:function(){var t=this;return{total:0,limit:10,page:0,modalVisible:!1,modal_loading:!1,isAdd:!0,columns:[{title:"序号",type:"index"},{title:"终端",key:"terminal"},{title:"版本号",key:"version"},{title:"版本类型",key:"type",render:function(t,e){return-1==e.row.type?"所有版本":0==e.row.type?"测试版":"正式版"}},{title:"版本地址",key:"url"},{title:"更新内容",key:"content",render:function(t,e){return e.row.content.length>50?t("Tooltip",{props:{placement:"top"}},[t("span",{style:{cursor:"pointer"}},e.row.content.slice(0,50)+"..."),t("div",{slot:"content",style:{"white-space":"normal"}},e.row.content)]):e.row.content}},{title:"是否强制更新",key:"force",render:function(t,e){return e.row.force?"是":"否"}},{title:"创建时间",key:"createDate",render:function(t,e){return c()(e.row.createDate).format("YYYY-MM-DD HH:mm")}},{title:"操作",key:"edit",render:function(e,a){return e("a",{attrs:{href:"javascript:;"},on:{click:function(){return t.showModal(a.row,a.index)}}},"编辑")}}],data:[],formValidate:{terminal:"android",version:"",force:"1",url:"",content:"",type:"0"},ruleValidate:{version:[{required:!0,message:"请填写版本号",trigger:"blur"}],url:[{required:!0,message:"请填写版本地址",trigger:"blur"}],content:[{required:!0,message:"请填写版本更新内容",trigger:"blur"}]}}},created:function(){this.getVersionList()},methods:{getVersionList:function(){var t=this;a.i(l.a)({page:this.page,limit:this.limit,version:"",terminal:"",force:""}).then(function(e){t.data=e.data.rows,t.total=e.data.total}).catch(function(t){})},pageChange:function(t,e){1===e?this.page=t-1:this.limit=t,this.getVersionList()},showModal:function(t,e){if(this.$refs.formValidate.resetFields(),this.isAdd=!t,d=e||null,t){var a=t.terminal,o=t.version,r=t.force,i=t.url,n=t.content,l=t.type,s=t.id;this.formValidate={terminal:a,version:o,force:r?"1":"0",url:i,content:n,type:l+"",id:s}}else this.formValidate.id&&delete this.formValidate.id;this.modalVisible=!0},submitHandle:function(){var t=this;this.$refs.formValidate.validate(function(e){if(e){var o=n()({},t.formValidate);o.force="1"==o.force,t.modal_loading=!0,t.isAdd?a.i(l.b)(o).then(function(e){t.$Message.success("添加成功！"),t.data.unshift(r()({},o,{id:e.data})),t.modalVisible=!1,t.modal_loading=!1}).catch(function(e){t.modal_loading=!1}):a.i(l.c)(o).then(function(e){t.$Message.success("修改成功！"),t.data.splice(d,1,o),t.modalVisible=!1,t.modal_loading=!1}).catch(function(e){t.modal_loading=!1})}else t.$Message.error("请填写完整信息!")})}}}},woOf:function(t,e,a){t.exports={default:a("V3tA"),__esModule:!0}},xvI1:function(t,e,a){var o=a("8Jvp");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("59bc2a41",o,!0)}});